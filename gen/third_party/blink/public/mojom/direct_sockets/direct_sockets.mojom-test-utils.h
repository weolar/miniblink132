// third_party/blink/public/mojom/direct_sockets/direct_sockets.mojom-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef THIRD_PARTY_BLINK_PUBLIC_MOJOM_DIRECT_SOCKETS_DIRECT_SOCKETS_MOJOM_TEST_UTILS_H_
#define THIRD_PARTY_BLINK_PUBLIC_MOJOM_DIRECT_SOCKETS_DIRECT_SOCKETS_MOJOM_TEST_UTILS_H_

#include "third_party/blink/public/mojom/direct_sockets/direct_sockets.mojom.h"
#include "third_party/blink/public/common/common_export.h"

namespace blink::mojom {

class BLINK_COMMON_EXPORT DirectSocketsServiceInterceptorForTesting : public DirectSocketsService {
    virtual DirectSocketsService* GetForwardingInterface() = 0;
    void OpenTCPSocket(DirectTCPSocketOptionsPtr options, ::mojo::PendingReceiver<::network::mojom::TCPConnectedSocket> receiver,
        ::mojo::PendingRemote<::network::mojom::SocketObserver> observer, OpenTCPSocketCallback callback) override;
    void OpenConnectedUDPSocket(DirectConnectedUDPSocketOptionsPtr options, ::mojo::PendingReceiver<::network::mojom::RestrictedUDPSocket> receiver,
        ::mojo::PendingRemote<::network::mojom::UDPSocketListener> listener, OpenConnectedUDPSocketCallback callback) override;
    void OpenBoundUDPSocket(DirectBoundUDPSocketOptionsPtr options, ::mojo::PendingReceiver<::network::mojom::RestrictedUDPSocket> receiver,
        ::mojo::PendingRemote<::network::mojom::UDPSocketListener> listener, OpenBoundUDPSocketCallback callback) override;
    void OpenTCPServerSocket(DirectTCPServerSocketOptionsPtr options, ::mojo::PendingReceiver<::network::mojom::TCPServerSocket> receiver,
        OpenTCPServerSocketCallback callback) override;
};
class BLINK_COMMON_EXPORT DirectSocketsServiceAsyncWaiter {
public:
    explicit DirectSocketsServiceAsyncWaiter(DirectSocketsService* proxy);

    DirectSocketsServiceAsyncWaiter(const DirectSocketsServiceAsyncWaiter&) = delete;
    DirectSocketsServiceAsyncWaiter& operator=(const DirectSocketsServiceAsyncWaiter&) = delete;

    ~DirectSocketsServiceAsyncWaiter();
    void OpenTCPSocket(DirectTCPSocketOptionsPtr options, ::mojo::PendingReceiver<::network::mojom::TCPConnectedSocket> receiver,
        ::mojo::PendingRemote<::network::mojom::SocketObserver> observer, int32_t* out_result, std::optional<::net::IPEndPoint>* out_local_addr,
        std::optional<::net::IPEndPoint>* out_peer_addr, ::mojo::ScopedDataPipeConsumerHandle* out_receive_stream,
        ::mojo::ScopedDataPipeProducerHandle* out_send_stream);

    void OpenConnectedUDPSocket(DirectConnectedUDPSocketOptionsPtr options, ::mojo::PendingReceiver<::network::mojom::RestrictedUDPSocket> receiver,
        ::mojo::PendingRemote<::network::mojom::UDPSocketListener> listener, int32_t* out_result, std::optional<::net::IPEndPoint>* out_local_addr,
        std::optional<::net::IPEndPoint>* out_peer_addr);

    void OpenBoundUDPSocket(DirectBoundUDPSocketOptionsPtr options, ::mojo::PendingReceiver<::network::mojom::RestrictedUDPSocket> receiver,
        ::mojo::PendingRemote<::network::mojom::UDPSocketListener> listener, int32_t* out_result, std::optional<::net::IPEndPoint>* out_local_addr);

    void OpenTCPServerSocket(DirectTCPServerSocketOptionsPtr options, ::mojo::PendingReceiver<::network::mojom::TCPServerSocket> receiver, int32_t* out_result,
        std::optional<::net::IPEndPoint>* out_local_addr);

private:
    DirectSocketsService* const proxy_;
};

} // blink::mojom

#endif // THIRD_PARTY_BLINK_PUBLIC_MOJOM_DIRECT_SOCKETS_DIRECT_SOCKETS_MOJOM_TEST_UTILS_H_
