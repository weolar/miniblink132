// third_party/blink/public/mojom/shared_storage/shared_storage_worklet_service.mojom-blink-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef THIRD_PARTY_BLINK_PUBLIC_MOJOM_SHARED_STORAGE_SHARED_STORAGE_WORKLET_SERVICE_MOJOM_BLINK_TEST_UTILS_H_
#define THIRD_PARTY_BLINK_PUBLIC_MOJOM_SHARED_STORAGE_SHARED_STORAGE_WORKLET_SERVICE_MOJOM_BLINK_TEST_UTILS_H_

#include "third_party/blink/public/mojom/shared_storage/shared_storage_worklet_service.mojom-blink.h"
#include "third_party/blink/renderer/modules/modules_export.h"

namespace blink::mojom::blink {

class MODULES_EXPORT SharedStorageEntriesListenerInterceptorForTesting : public SharedStorageEntriesListener {
    virtual SharedStorageEntriesListener* GetForwardingInterface() = 0;
    void DidReadEntries(bool success, const WTF::String& error_message, WTF::Vector<SharedStorageKeyAndOrValuePtr> entries, bool has_more_entries,
        int32_t total_queued_to_send) override;
};
class MODULES_EXPORT SharedStorageEntriesListenerAsyncWaiter {
public:
    explicit SharedStorageEntriesListenerAsyncWaiter(SharedStorageEntriesListener* proxy);

    SharedStorageEntriesListenerAsyncWaiter(const SharedStorageEntriesListenerAsyncWaiter&) = delete;
    SharedStorageEntriesListenerAsyncWaiter& operator=(const SharedStorageEntriesListenerAsyncWaiter&) = delete;

    ~SharedStorageEntriesListenerAsyncWaiter();

private:
    SharedStorageEntriesListener* const proxy_;
};

class MODULES_EXPORT SharedStorageWorkletServiceClientInterceptorForTesting : public SharedStorageWorkletServiceClient {
    virtual SharedStorageWorkletServiceClient* GetForwardingInterface() = 0;
    void SharedStorageUpdate(::network::mojom::blink::SharedStorageModifierMethodPtr method, SharedStorageUpdateCallback callback) override;
    void SharedStorageGet(const ::WTF::String& key, SharedStorageGetCallback callback) override;
    void SharedStorageKeys(::mojo::PendingRemote<SharedStorageEntriesListener> listener) override;
    void SharedStorageEntries(::mojo::PendingRemote<SharedStorageEntriesListener> listener) override;
    void SharedStorageLength(SharedStorageLengthCallback callback) override;
    void SharedStorageRemainingBudget(SharedStorageRemainingBudgetCallback callback) override;
    void GetInterestGroups(GetInterestGroupsCallback callback) override;
    void DidAddMessageToConsole(::blink::mojom::blink::ConsoleMessageLevel log_level, const WTF::String& message) override;
    void RecordUseCounters(const WTF::Vector<::blink::mojom::blink::WebFeature>& features) override;
};
class MODULES_EXPORT SharedStorageWorkletServiceClientAsyncWaiter {
public:
    explicit SharedStorageWorkletServiceClientAsyncWaiter(SharedStorageWorkletServiceClient* proxy);

    SharedStorageWorkletServiceClientAsyncWaiter(const SharedStorageWorkletServiceClientAsyncWaiter&) = delete;
    SharedStorageWorkletServiceClientAsyncWaiter& operator=(const SharedStorageWorkletServiceClientAsyncWaiter&) = delete;

    ~SharedStorageWorkletServiceClientAsyncWaiter();
    void SharedStorageUpdate(::network::mojom::blink::SharedStorageModifierMethodPtr method, WTF::String* out_error_message);
    WTF::String SharedStorageUpdate(::network::mojom::blink::SharedStorageModifierMethodPtr method);
    void SharedStorageGet(
        const ::WTF::String& key, ::blink::mojom::blink::SharedStorageGetStatus* out_status, WTF::String* out_error_message, ::WTF::String* out_value);

    void SharedStorageLength(bool* out_success, WTF::String* out_error_message, uint32_t* out_length);

    void SharedStorageRemainingBudget(bool* out_success, WTF::String* out_error_message, double* out_bits);

    void GetInterestGroups(GetInterestGroupsResultPtr* out_result);
    GetInterestGroupsResultPtr GetInterestGroups();

private:
    SharedStorageWorkletServiceClient* const proxy_;
};

class MODULES_EXPORT SharedStorageWorkletServiceInterceptorForTesting : public SharedStorageWorkletService {
    virtual SharedStorageWorkletService* GetForwardingInterface() = 0;
    void Initialize(::mojo::PendingAssociatedRemote<SharedStorageWorkletServiceClient> client,
        SharedStorageWorkletPermissionsPolicyStatePtr permissions_policy_state, const ::WTF::String& embedder_context) override;
    void AddModule(::mojo::PendingRemote<::network::mojom::blink::URLLoaderFactory> url_loader_factory, const ::blink::KURL& script_source_url,
        AddModuleCallback callback) override;
    void RunURLSelectionOperation(const WTF::String& name, const WTF::Vector<::blink::KURL>& urls, ::blink::BlinkCloneableMessage serialized_data,
        PrivateAggregationOperationDetailsPtr pa_operation_details, RunURLSelectionOperationCallback callback) override;
    void RunOperation(const WTF::String& name, ::blink::BlinkCloneableMessage serialized_data, PrivateAggregationOperationDetailsPtr pa_operation_details,
        RunOperationCallback callback) override;
};
class MODULES_EXPORT SharedStorageWorkletServiceAsyncWaiter {
public:
    explicit SharedStorageWorkletServiceAsyncWaiter(SharedStorageWorkletService* proxy);

    SharedStorageWorkletServiceAsyncWaiter(const SharedStorageWorkletServiceAsyncWaiter&) = delete;
    SharedStorageWorkletServiceAsyncWaiter& operator=(const SharedStorageWorkletServiceAsyncWaiter&) = delete;

    ~SharedStorageWorkletServiceAsyncWaiter();
    void AddModule(::mojo::PendingRemote<::network::mojom::blink::URLLoaderFactory> url_loader_factory, const ::blink::KURL& script_source_url,
        bool* out_success, WTF::String* out_error_message);

    void RunURLSelectionOperation(const WTF::String& name, const WTF::Vector<::blink::KURL>& urls, ::blink::BlinkCloneableMessage serialized_data,
        PrivateAggregationOperationDetailsPtr pa_operation_details, bool* out_success, WTF::String* out_error_message, uint32_t* out_index);

    void RunOperation(const WTF::String& name, ::blink::BlinkCloneableMessage serialized_data, PrivateAggregationOperationDetailsPtr pa_operation_details,
        bool* out_success, WTF::String* out_error_message);

private:
    SharedStorageWorkletService* const proxy_;
};

} // blink::mojom::blink

#endif // THIRD_PARTY_BLINK_PUBLIC_MOJOM_SHARED_STORAGE_SHARED_STORAGE_WORKLET_SERVICE_MOJOM_BLINK_TEST_UTILS_H_
