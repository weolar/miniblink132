// third_party/blink/public/mojom/shared_storage/shared_storage.mojom-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef THIRD_PARTY_BLINK_PUBLIC_MOJOM_SHARED_STORAGE_SHARED_STORAGE_MOJOM_TEST_UTILS_H_
#define THIRD_PARTY_BLINK_PUBLIC_MOJOM_SHARED_STORAGE_SHARED_STORAGE_MOJOM_TEST_UTILS_H_

#include "third_party/blink/public/mojom/shared_storage/shared_storage.mojom.h"
#include "third_party/blink/public/common/common_export.h"

namespace blink::mojom {

class BLINK_COMMON_EXPORT SharedStorageWorkletHostInterceptorForTesting : public SharedStorageWorkletHost {
    virtual SharedStorageWorkletHost* GetForwardingInterface() = 0;
    void SelectURL(const std::string& name, std::vector<SharedStorageUrlWithMetadataPtr> urls_with_metadata, ::blink::CloneableMessage serialized_data,
        bool keep_alive_after_operation, PrivateAggregationConfigPtr private_aggregation_config, const ::std::u16string& saved_query_name,
        SelectURLCallback callback) override;
    void Run(const std::string& name, ::blink::CloneableMessage serialized_data, bool keep_alive_after_operation,
        PrivateAggregationConfigPtr private_aggregation_config, RunCallback callback) override;
};
class BLINK_COMMON_EXPORT SharedStorageWorkletHostAsyncWaiter {
public:
    explicit SharedStorageWorkletHostAsyncWaiter(SharedStorageWorkletHost* proxy);

    SharedStorageWorkletHostAsyncWaiter(const SharedStorageWorkletHostAsyncWaiter&) = delete;
    SharedStorageWorkletHostAsyncWaiter& operator=(const SharedStorageWorkletHostAsyncWaiter&) = delete;

    ~SharedStorageWorkletHostAsyncWaiter();
    void SelectURL(const std::string& name, std::vector<SharedStorageUrlWithMetadataPtr> urls_with_metadata, ::blink::CloneableMessage serialized_data,
        bool keep_alive_after_operation, PrivateAggregationConfigPtr private_aggregation_config, const ::std::u16string& saved_query_name, bool* out_success,
        std::string* out_error_message, std::optional<::blink::FencedFrame::RedactedFencedFrameConfig>* out_config);

    void Run(const std::string& name, ::blink::CloneableMessage serialized_data, bool keep_alive_after_operation,
        PrivateAggregationConfigPtr private_aggregation_config, bool* out_success, std::string* out_error_message);

private:
    SharedStorageWorkletHost* const proxy_;
};

class BLINK_COMMON_EXPORT SharedStorageDocumentServiceInterceptorForTesting : public SharedStorageDocumentService {
    virtual SharedStorageDocumentService* GetForwardingInterface() = 0;
    void CreateWorklet(const ::GURL& script_source_url, const ::url::Origin& data_origin, ::network::mojom::CredentialsMode credentials_mode,
        const std::vector<::blink::mojom::OriginTrialFeature>& origin_trial_features, ::mojo::PendingAssociatedReceiver<SharedStorageWorkletHost> worklet_host,
        CreateWorkletCallback callback) override;
    void SharedStorageGet(const ::std::u16string& key, SharedStorageGetCallback callback) override;
    void SharedStorageUpdate(::network::mojom::SharedStorageModifierMethodPtr method, SharedStorageUpdateCallback callback) override;
};
class BLINK_COMMON_EXPORT SharedStorageDocumentServiceAsyncWaiter {
public:
    explicit SharedStorageDocumentServiceAsyncWaiter(SharedStorageDocumentService* proxy);

    SharedStorageDocumentServiceAsyncWaiter(const SharedStorageDocumentServiceAsyncWaiter&) = delete;
    SharedStorageDocumentServiceAsyncWaiter& operator=(const SharedStorageDocumentServiceAsyncWaiter&) = delete;

    ~SharedStorageDocumentServiceAsyncWaiter();
    void CreateWorklet(const ::GURL& script_source_url, const ::url::Origin& data_origin, ::network::mojom::CredentialsMode credentials_mode,
        const std::vector<::blink::mojom::OriginTrialFeature>& origin_trial_features, ::mojo::PendingAssociatedReceiver<SharedStorageWorkletHost> worklet_host,
        bool* out_success, std::string* out_error_message);

    void SharedStorageGet(const ::std::u16string& key, SharedStorageGetStatus* out_status, std::string* out_error_message, ::std::u16string* out_value);

    void SharedStorageUpdate(::network::mojom::SharedStorageModifierMethodPtr method, std::string* out_error_message);
    std::string SharedStorageUpdate(::network::mojom::SharedStorageModifierMethodPtr method);

private:
    SharedStorageDocumentService* const proxy_;
};

} // blink::mojom

#endif // THIRD_PARTY_BLINK_PUBLIC_MOJOM_SHARED_STORAGE_SHARED_STORAGE_MOJOM_TEST_UTILS_H_
