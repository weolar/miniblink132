// third_party/blink/public/mojom/shared_storage/shared_storage.mojom-blink-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef THIRD_PARTY_BLINK_PUBLIC_MOJOM_SHARED_STORAGE_SHARED_STORAGE_MOJOM_BLINK_TEST_UTILS_H_
#define THIRD_PARTY_BLINK_PUBLIC_MOJOM_SHARED_STORAGE_SHARED_STORAGE_MOJOM_BLINK_TEST_UTILS_H_

#include "third_party/blink/public/mojom/shared_storage/shared_storage.mojom-blink.h"
#include "third_party/blink/renderer/modules/modules_export.h"

namespace blink::mojom::blink {

class MODULES_EXPORT SharedStorageWorkletHostInterceptorForTesting : public SharedStorageWorkletHost {
    virtual SharedStorageWorkletHost* GetForwardingInterface() = 0;
    void SelectURL(const WTF::String& name, WTF::Vector<SharedStorageUrlWithMetadataPtr> urls_with_metadata, ::blink::BlinkCloneableMessage serialized_data,
        bool keep_alive_after_operation, PrivateAggregationConfigPtr private_aggregation_config, const ::WTF::String& saved_query_name,
        SelectURLCallback callback) override;
    void Run(const WTF::String& name, ::blink::BlinkCloneableMessage serialized_data, bool keep_alive_after_operation,
        PrivateAggregationConfigPtr private_aggregation_config, RunCallback callback) override;
};
class MODULES_EXPORT SharedStorageWorkletHostAsyncWaiter {
public:
    explicit SharedStorageWorkletHostAsyncWaiter(SharedStorageWorkletHost* proxy);

    SharedStorageWorkletHostAsyncWaiter(const SharedStorageWorkletHostAsyncWaiter&) = delete;
    SharedStorageWorkletHostAsyncWaiter& operator=(const SharedStorageWorkletHostAsyncWaiter&) = delete;

    ~SharedStorageWorkletHostAsyncWaiter();
    void SelectURL(const WTF::String& name, WTF::Vector<SharedStorageUrlWithMetadataPtr> urls_with_metadata, ::blink::BlinkCloneableMessage serialized_data,
        bool keep_alive_after_operation, PrivateAggregationConfigPtr private_aggregation_config, const ::WTF::String& saved_query_name, bool* out_success,
        WTF::String* out_error_message, std::optional<::blink::FencedFrame::RedactedFencedFrameConfig>* out_config);

    void Run(const WTF::String& name, ::blink::BlinkCloneableMessage serialized_data, bool keep_alive_after_operation,
        PrivateAggregationConfigPtr private_aggregation_config, bool* out_success, WTF::String* out_error_message);

private:
    SharedStorageWorkletHost* const proxy_;
};

class MODULES_EXPORT SharedStorageDocumentServiceInterceptorForTesting : public SharedStorageDocumentService {
    virtual SharedStorageDocumentService* GetForwardingInterface() = 0;
    void CreateWorklet(const ::blink::KURL& script_source_url, const ::scoped_refptr<const ::blink::SecurityOrigin>& data_origin,
        ::network::mojom::blink::CredentialsMode credentials_mode, const WTF::Vector<::blink::mojom::blink::OriginTrialFeature>& origin_trial_features,
        ::mojo::PendingAssociatedReceiver<SharedStorageWorkletHost> worklet_host, CreateWorkletCallback callback) override;
    void SharedStorageGet(const ::WTF::String& key, SharedStorageGetCallback callback) override;
    void SharedStorageUpdate(::network::mojom::blink::SharedStorageModifierMethodPtr method, SharedStorageUpdateCallback callback) override;
};
class MODULES_EXPORT SharedStorageDocumentServiceAsyncWaiter {
public:
    explicit SharedStorageDocumentServiceAsyncWaiter(SharedStorageDocumentService* proxy);

    SharedStorageDocumentServiceAsyncWaiter(const SharedStorageDocumentServiceAsyncWaiter&) = delete;
    SharedStorageDocumentServiceAsyncWaiter& operator=(const SharedStorageDocumentServiceAsyncWaiter&) = delete;

    ~SharedStorageDocumentServiceAsyncWaiter();
    void CreateWorklet(const ::blink::KURL& script_source_url, const ::scoped_refptr<const ::blink::SecurityOrigin>& data_origin,
        ::network::mojom::blink::CredentialsMode credentials_mode, const WTF::Vector<::blink::mojom::blink::OriginTrialFeature>& origin_trial_features,
        ::mojo::PendingAssociatedReceiver<SharedStorageWorkletHost> worklet_host, bool* out_success, WTF::String* out_error_message);

    void SharedStorageGet(const ::WTF::String& key, SharedStorageGetStatus* out_status, WTF::String* out_error_message, ::WTF::String* out_value);

    void SharedStorageUpdate(::network::mojom::blink::SharedStorageModifierMethodPtr method, WTF::String* out_error_message);
    WTF::String SharedStorageUpdate(::network::mojom::blink::SharedStorageModifierMethodPtr method);

private:
    SharedStorageDocumentService* const proxy_;
};

} // blink::mojom::blink

#endif // THIRD_PARTY_BLINK_PUBLIC_MOJOM_SHARED_STORAGE_SHARED_STORAGE_MOJOM_BLINK_TEST_UTILS_H_
