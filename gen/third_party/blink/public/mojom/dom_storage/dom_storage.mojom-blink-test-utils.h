// third_party/blink/public/mojom/dom_storage/dom_storage.mojom-blink-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef THIRD_PARTY_BLINK_PUBLIC_MOJOM_DOM_STORAGE_DOM_STORAGE_MOJOM_BLINK_TEST_UTILS_H_
#define THIRD_PARTY_BLINK_PUBLIC_MOJOM_DOM_STORAGE_DOM_STORAGE_MOJOM_BLINK_TEST_UTILS_H_

#include "third_party/blink/public/mojom/dom_storage/dom_storage.mojom-blink.h"
#include "third_party/blink/renderer/platform/platform_export.h"

namespace blink::mojom::blink {

class PLATFORM_EXPORT DomStorageProviderInterceptorForTesting : public DomStorageProvider {
    virtual DomStorageProvider* GetForwardingInterface() = 0;
    void BindDomStorage(::mojo::PendingReceiver<DomStorage> receiver, ::mojo::PendingRemote<DomStorageClient> client) override;
};
class PLATFORM_EXPORT DomStorageProviderAsyncWaiter {
public:
    explicit DomStorageProviderAsyncWaiter(DomStorageProvider* proxy);

    DomStorageProviderAsyncWaiter(const DomStorageProviderAsyncWaiter&) = delete;
    DomStorageProviderAsyncWaiter& operator=(const DomStorageProviderAsyncWaiter&) = delete;

    ~DomStorageProviderAsyncWaiter();

private:
    DomStorageProvider* const proxy_;
};

class PLATFORM_EXPORT DomStorageInterceptorForTesting : public DomStorage {
    virtual DomStorage* GetForwardingInterface() = 0;
    void OpenLocalStorage(const ::blink::BlinkStorageKey& storage_key, const ::blink::LocalFrameToken& local_frame_token,
        ::mojo::PendingReceiver<::blink::mojom::blink::StorageArea> area) override;
    void BindSessionStorageNamespace(
        const WTF::String& namespace_id, ::mojo::PendingReceiver<::blink::mojom::blink::SessionStorageNamespace> receiver) override;
    void BindSessionStorageArea(const ::blink::BlinkStorageKey& storage_key, const ::blink::LocalFrameToken& local_frame_token, const WTF::String& namespace_id,
        ::mojo::PendingReceiver<::blink::mojom::blink::StorageArea> session_namespace) override;
};
class PLATFORM_EXPORT DomStorageAsyncWaiter {
public:
    explicit DomStorageAsyncWaiter(DomStorage* proxy);

    DomStorageAsyncWaiter(const DomStorageAsyncWaiter&) = delete;
    DomStorageAsyncWaiter& operator=(const DomStorageAsyncWaiter&) = delete;

    ~DomStorageAsyncWaiter();

private:
    DomStorage* const proxy_;
};

class PLATFORM_EXPORT DomStorageClientInterceptorForTesting : public DomStorageClient {
    virtual DomStorageClient* GetForwardingInterface() = 0;
    void ResetStorageAreaAndNamespaceConnections() override;
};
class PLATFORM_EXPORT DomStorageClientAsyncWaiter {
public:
    explicit DomStorageClientAsyncWaiter(DomStorageClient* proxy);

    DomStorageClientAsyncWaiter(const DomStorageClientAsyncWaiter&) = delete;
    DomStorageClientAsyncWaiter& operator=(const DomStorageClientAsyncWaiter&) = delete;

    ~DomStorageClientAsyncWaiter();

private:
    DomStorageClient* const proxy_;
};

} // blink::mojom::blink

#endif // THIRD_PARTY_BLINK_PUBLIC_MOJOM_DOM_STORAGE_DOM_STORAGE_MOJOM_BLINK_TEST_UTILS_H_
