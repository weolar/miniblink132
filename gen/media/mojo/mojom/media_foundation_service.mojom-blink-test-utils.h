// media/mojo/mojom/media_foundation_service.mojom-blink-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef MEDIA_MOJO_MOJOM_MEDIA_FOUNDATION_SERVICE_MOJOM_BLINK_TEST_UTILS_H_
#define MEDIA_MOJO_MOJOM_MEDIA_FOUNDATION_SERVICE_MOJOM_BLINK_TEST_UTILS_H_

#include "media/mojo/mojom/media_foundation_service.mojom-blink.h"
#include "third_party/blink/public/platform/web_common.h"

namespace media::mojom::blink {

class BLINK_PLATFORM_EXPORT GpuInfoObserverInterceptorForTesting : public GpuInfoObserver {
    virtual GpuInfoObserver* GetForwardingInterface() = 0;
    void OnGpuInfoUpdate(::gpu::mojom::blink::GpuInfoPtr gpu_info) override;
};
class BLINK_PLATFORM_EXPORT GpuInfoObserverAsyncWaiter {
public:
    explicit GpuInfoObserverAsyncWaiter(GpuInfoObserver* proxy);

    GpuInfoObserverAsyncWaiter(const GpuInfoObserverAsyncWaiter&) = delete;
    GpuInfoObserverAsyncWaiter& operator=(const GpuInfoObserverAsyncWaiter&) = delete;

    ~GpuInfoObserverAsyncWaiter();

private:
    GpuInfoObserver* const proxy_;
};

class BLINK_PLATFORM_EXPORT MediaFoundationServiceInterceptorForTesting : public MediaFoundationService {
    virtual MediaFoundationService* GetForwardingInterface() = 0;
    void IsKeySystemSupported(const WTF::String& key_system, IsKeySystemSupportedCallback callback) override;
    void CreateInterfaceFactory(::mojo::PendingReceiver<::media::mojom::blink::InterfaceFactory> factory,
        ::mojo::PendingRemote<::media::mojom::blink::FrameInterfaceFactory> frame_interfaces) override;
};
class BLINK_PLATFORM_EXPORT MediaFoundationServiceAsyncWaiter {
public:
    explicit MediaFoundationServiceAsyncWaiter(MediaFoundationService* proxy);

    MediaFoundationServiceAsyncWaiter(const MediaFoundationServiceAsyncWaiter&) = delete;
    MediaFoundationServiceAsyncWaiter& operator=(const MediaFoundationServiceAsyncWaiter&) = delete;

    ~MediaFoundationServiceAsyncWaiter();
    void IsKeySystemSupported(const WTF::String& key_system, bool* out_is_supported, ::media::mojom::blink::KeySystemCapabilityPtr* out_key_system_capability);

private:
    MediaFoundationService* const proxy_;
};

class BLINK_PLATFORM_EXPORT MediaFoundationServiceBrokerInterceptorForTesting : public MediaFoundationServiceBroker {
    virtual MediaFoundationServiceBroker* GetForwardingInterface() = 0;
    void UpdateGpuInfo(::gpu::mojom::blink::GpuInfoPtr gpu_info, UpdateGpuInfoCallback callback) override;
    void GetService(const ::base::FilePath& cdm_path, ::mojo::PendingReceiver<MediaFoundationService> receiver) override;
};
class BLINK_PLATFORM_EXPORT MediaFoundationServiceBrokerAsyncWaiter {
public:
    explicit MediaFoundationServiceBrokerAsyncWaiter(MediaFoundationServiceBroker* proxy);

    MediaFoundationServiceBrokerAsyncWaiter(const MediaFoundationServiceBrokerAsyncWaiter&) = delete;
    MediaFoundationServiceBrokerAsyncWaiter& operator=(const MediaFoundationServiceBrokerAsyncWaiter&) = delete;

    ~MediaFoundationServiceBrokerAsyncWaiter();
    void UpdateGpuInfo(::gpu::mojom::blink::GpuInfoPtr gpu_info, ::mojo::PendingRemote<GpuInfoObserver>* out_gpu_info_observer);
    ::mojo::PendingRemote<GpuInfoObserver> UpdateGpuInfo(::gpu::mojom::blink::GpuInfoPtr gpu_info);

private:
    MediaFoundationServiceBroker* const proxy_;
};

} // media::mojom::blink

#endif // MEDIA_MOJO_MOJOM_MEDIA_FOUNDATION_SERVICE_MOJOM_BLINK_TEST_UTILS_H_
