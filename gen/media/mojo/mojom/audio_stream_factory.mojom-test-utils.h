// media/mojo/mojom/audio_stream_factory.mojom-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef MEDIA_MOJO_MOJOM_AUDIO_STREAM_FACTORY_MOJOM_TEST_UTILS_H_
#define MEDIA_MOJO_MOJOM_AUDIO_STREAM_FACTORY_MOJOM_TEST_UTILS_H_

#include "media/mojo/mojom/audio_stream_factory.mojom.h"

namespace media::mojom {

class LocalMuterInterceptorForTesting : public LocalMuter {
    virtual LocalMuter* GetForwardingInterface() = 0;
};
class LocalMuterAsyncWaiter {
public:
    explicit LocalMuterAsyncWaiter(LocalMuter* proxy);

    LocalMuterAsyncWaiter(const LocalMuterAsyncWaiter&) = delete;
    LocalMuterAsyncWaiter& operator=(const LocalMuterAsyncWaiter&) = delete;

    ~LocalMuterAsyncWaiter();

private:
    LocalMuter* const proxy_;
};

class AudioStreamFactoryInterceptorForTesting : public AudioStreamFactory {
    virtual AudioStreamFactory* GetForwardingInterface() = 0;
    void CreateInputStream(::mojo::PendingReceiver<::media::mojom::AudioInputStream> stream,
        ::mojo::PendingRemote<::media::mojom::AudioInputStreamClient> client, ::mojo::PendingRemote<::media::mojom::AudioInputStreamObserver> observer,
        ::mojo::PendingRemote<::media::mojom::AudioLog> log, const std::string& device_id, const ::media::AudioParameters& params, uint32_t shared_memory_count,
        bool enable_agc, ::base::ReadOnlySharedMemoryRegion key_press_count_buffer, ::media::mojom::AudioProcessingConfigPtr processing_config,
        CreateInputStreamCallback callback) override;
    void AssociateInputAndOutputForAec(const ::base::UnguessableToken& input_stream_id, const std::string& output_device_id) override;
    void CreateOutputStream(::mojo::PendingReceiver<::media::mojom::AudioOutputStream> stream,
        ::mojo::PendingAssociatedRemote<::media::mojom::AudioOutputStreamObserver> observer, ::mojo::PendingRemote<::media::mojom::AudioLog> log,
        const std::string& device_id, const ::media::AudioParameters& params, const ::base::UnguessableToken& group_id,
        CreateOutputStreamCallback callback) override;
    void CreateSwitchableOutputStream(::mojo::PendingReceiver<::media::mojom::AudioOutputStream> stream,
        ::mojo::PendingReceiver<::media::mojom::DeviceSwitchInterface> device_switch_receiver,
        ::mojo::PendingAssociatedRemote<::media::mojom::AudioOutputStreamObserver> observer, ::mojo::PendingRemote<::media::mojom::AudioLog> log,
        const std::string& device_id, const ::media::AudioParameters& params, const ::base::UnguessableToken& group_id,
        CreateSwitchableOutputStreamCallback callback) override;
    void BindMuter(::mojo::PendingAssociatedReceiver<LocalMuter> receiver, const ::base::UnguessableToken& group_id) override;
    void CreateLoopbackStream(::mojo::PendingReceiver<::media::mojom::AudioInputStream> receiver,
        ::mojo::PendingRemote<::media::mojom::AudioInputStreamClient> client, ::mojo::PendingRemote<::media::mojom::AudioInputStreamObserver> observer,
        const ::media::AudioParameters& params, uint32_t shared_memory_count, const ::base::UnguessableToken& group_id,
        CreateLoopbackStreamCallback callback) override;
};
class AudioStreamFactoryAsyncWaiter {
public:
    explicit AudioStreamFactoryAsyncWaiter(AudioStreamFactory* proxy);

    AudioStreamFactoryAsyncWaiter(const AudioStreamFactoryAsyncWaiter&) = delete;
    AudioStreamFactoryAsyncWaiter& operator=(const AudioStreamFactoryAsyncWaiter&) = delete;

    ~AudioStreamFactoryAsyncWaiter();
    void CreateInputStream(::mojo::PendingReceiver<::media::mojom::AudioInputStream> stream,
        ::mojo::PendingRemote<::media::mojom::AudioInputStreamClient> client, ::mojo::PendingRemote<::media::mojom::AudioInputStreamObserver> observer,
        ::mojo::PendingRemote<::media::mojom::AudioLog> log, const std::string& device_id, const ::media::AudioParameters& params, uint32_t shared_memory_count,
        bool enable_agc, ::base::ReadOnlySharedMemoryRegion key_press_count_buffer, ::media::mojom::AudioProcessingConfigPtr processing_config,
        ::media::mojom::ReadOnlyAudioDataPipePtr* out_data_pipe, bool* out_initially_muted, std::optional<::base::UnguessableToken>* out_stream_id);

    void CreateOutputStream(::mojo::PendingReceiver<::media::mojom::AudioOutputStream> stream,
        ::mojo::PendingAssociatedRemote<::media::mojom::AudioOutputStreamObserver> observer, ::mojo::PendingRemote<::media::mojom::AudioLog> log,
        const std::string& device_id, const ::media::AudioParameters& params, const ::base::UnguessableToken& group_id,
        ::media::mojom::ReadWriteAudioDataPipePtr* out_data_pipe);
    ::media::mojom::ReadWriteAudioDataPipePtr CreateOutputStream(::mojo::PendingReceiver<::media::mojom::AudioOutputStream> stream,
        ::mojo::PendingAssociatedRemote<::media::mojom::AudioOutputStreamObserver> observer, ::mojo::PendingRemote<::media::mojom::AudioLog> log,
        const std::string& device_id, const ::media::AudioParameters& params, const ::base::UnguessableToken& group_id);
    void CreateSwitchableOutputStream(::mojo::PendingReceiver<::media::mojom::AudioOutputStream> stream,
        ::mojo::PendingReceiver<::media::mojom::DeviceSwitchInterface> device_switch_receiver,
        ::mojo::PendingAssociatedRemote<::media::mojom::AudioOutputStreamObserver> observer, ::mojo::PendingRemote<::media::mojom::AudioLog> log,
        const std::string& device_id, const ::media::AudioParameters& params, const ::base::UnguessableToken& group_id,
        ::media::mojom::ReadWriteAudioDataPipePtr* out_data_pipe);
    ::media::mojom::ReadWriteAudioDataPipePtr CreateSwitchableOutputStream(::mojo::PendingReceiver<::media::mojom::AudioOutputStream> stream,
        ::mojo::PendingReceiver<::media::mojom::DeviceSwitchInterface> device_switch_receiver,
        ::mojo::PendingAssociatedRemote<::media::mojom::AudioOutputStreamObserver> observer, ::mojo::PendingRemote<::media::mojom::AudioLog> log,
        const std::string& device_id, const ::media::AudioParameters& params, const ::base::UnguessableToken& group_id);
    void CreateLoopbackStream(::mojo::PendingReceiver<::media::mojom::AudioInputStream> receiver,
        ::mojo::PendingRemote<::media::mojom::AudioInputStreamClient> client, ::mojo::PendingRemote<::media::mojom::AudioInputStreamObserver> observer,
        const ::media::AudioParameters& params, uint32_t shared_memory_count, const ::base::UnguessableToken& group_id,
        ::media::mojom::ReadOnlyAudioDataPipePtr* out_data_pipe);
    ::media::mojom::ReadOnlyAudioDataPipePtr CreateLoopbackStream(::mojo::PendingReceiver<::media::mojom::AudioInputStream> receiver,
        ::mojo::PendingRemote<::media::mojom::AudioInputStreamClient> client, ::mojo::PendingRemote<::media::mojom::AudioInputStreamObserver> observer,
        const ::media::AudioParameters& params, uint32_t shared_memory_count, const ::base::UnguessableToken& group_id);

private:
    AudioStreamFactory* const proxy_;
};

} // media::mojom

#endif // MEDIA_MOJO_MOJOM_AUDIO_STREAM_FACTORY_MOJOM_TEST_UTILS_H_
