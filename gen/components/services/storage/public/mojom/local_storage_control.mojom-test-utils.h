// components/services/storage/public/mojom/local_storage_control.mojom-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef COMPONENTS_SERVICES_STORAGE_PUBLIC_MOJOM_LOCAL_STORAGE_CONTROL_MOJOM_TEST_UTILS_H_
#define COMPONENTS_SERVICES_STORAGE_PUBLIC_MOJOM_LOCAL_STORAGE_CONTROL_MOJOM_TEST_UTILS_H_

#include "components/services/storage/public/mojom/local_storage_control.mojom.h"

namespace storage::mojom {

class LocalStorageControlInterceptorForTesting : public LocalStorageControl {
    virtual LocalStorageControl* GetForwardingInterface() = 0;
    void BindStorageArea(const ::blink::StorageKey& storage_key, ::mojo::PendingReceiver<::blink::mojom::StorageArea> receiver) override;
    void GetUsage(GetUsageCallback callback) override;
    void DeleteStorage(const ::blink::StorageKey& storage_key, DeleteStorageCallback callback) override;
    void CleanUpStorage(CleanUpStorageCallback callback) override;
    void Flush() override;
    void NeedsFlushForTesting(NeedsFlushForTestingCallback callback) override;
    void PurgeMemory() override;
    void ApplyPolicyUpdates(std::vector<::storage::mojom::StoragePolicyUpdatePtr> policy_updates) override;
    void ForceKeepSessionState() override;
};
class LocalStorageControlAsyncWaiter {
public:
    explicit LocalStorageControlAsyncWaiter(LocalStorageControl* proxy);

    LocalStorageControlAsyncWaiter(const LocalStorageControlAsyncWaiter&) = delete;
    LocalStorageControlAsyncWaiter& operator=(const LocalStorageControlAsyncWaiter&) = delete;

    ~LocalStorageControlAsyncWaiter();
    void GetUsage(std::vector<::storage::mojom::StorageUsageInfoPtr>* out_info);
    std::vector<::storage::mojom::StorageUsageInfoPtr> GetUsage();
    void DeleteStorage(const ::blink::StorageKey& storage_key);

    void CleanUpStorage();

    void NeedsFlushForTesting(bool* out_commits_pending);
    bool NeedsFlushForTesting();

private:
    LocalStorageControl* const proxy_;
};

} // storage::mojom

#endif // COMPONENTS_SERVICES_STORAGE_PUBLIC_MOJOM_LOCAL_STORAGE_CONTROL_MOJOM_TEST_UTILS_H_
