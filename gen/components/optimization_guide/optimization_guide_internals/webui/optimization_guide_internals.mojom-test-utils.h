// components/optimization_guide/optimization_guide_internals/webui/optimization_guide_internals.mojom-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef COMPONENTS_OPTIMIZATION_GUIDE_OPTIMIZATION_GUIDE_INTERNALS_WEBUI_OPTIMIZATION_GUIDE_INTERNALS_MOJOM_TEST_UTILS_H_
#define COMPONENTS_OPTIMIZATION_GUIDE_OPTIMIZATION_GUIDE_INTERNALS_WEBUI_OPTIMIZATION_GUIDE_INTERNALS_MOJOM_TEST_UTILS_H_

#include "components/optimization_guide/optimization_guide_internals/webui/optimization_guide_internals.mojom.h"

namespace optimization_guide_internals::mojom {

class PageHandlerFactoryInterceptorForTesting : public PageHandlerFactory {
    virtual PageHandlerFactory* GetForwardingInterface() = 0;
    void CreatePageHandler(::mojo::PendingRemote<Page> page) override;
    void RequestDownloadedModelsInfo(RequestDownloadedModelsInfoCallback callback) override;
    void RequestLoggedModelQualityClientIds(RequestLoggedModelQualityClientIdsCallback callback) override;
};
class PageHandlerFactoryAsyncWaiter {
public:
    explicit PageHandlerFactoryAsyncWaiter(PageHandlerFactory* proxy);

    PageHandlerFactoryAsyncWaiter(const PageHandlerFactoryAsyncWaiter&) = delete;
    PageHandlerFactoryAsyncWaiter& operator=(const PageHandlerFactoryAsyncWaiter&) = delete;

    ~PageHandlerFactoryAsyncWaiter();
    void RequestDownloadedModelsInfo(std::vector<DownloadedModelInfoPtr>* out_downloaded_models_info);
    std::vector<DownloadedModelInfoPtr> RequestDownloadedModelsInfo();
    void RequestLoggedModelQualityClientIds(std::vector<LoggedClientIdsPtr>* out_logged_client_ids);
    std::vector<LoggedClientIdsPtr> RequestLoggedModelQualityClientIds();

private:
    PageHandlerFactory* const proxy_;
};

class PageInterceptorForTesting : public Page {
    virtual Page* GetForwardingInterface() = 0;
    void OnLogMessageAdded(::base::Time event_time, ::optimization_guide_common::mojom::LogSource log_source, const std::string& source_file,
        int64_t source_line, const std::string& message) override;
};
class PageAsyncWaiter {
public:
    explicit PageAsyncWaiter(Page* proxy);

    PageAsyncWaiter(const PageAsyncWaiter&) = delete;
    PageAsyncWaiter& operator=(const PageAsyncWaiter&) = delete;

    ~PageAsyncWaiter();

private:
    Page* const proxy_;
};

} // optimization_guide_internals::mojom

#endif // COMPONENTS_OPTIMIZATION_GUIDE_OPTIMIZATION_GUIDE_INTERNALS_WEBUI_OPTIMIZATION_GUIDE_INTERNALS_MOJOM_TEST_UTILS_H_
