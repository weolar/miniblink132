// services/viz/public/mojom/gpu.mojom-blink-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef SERVICES_VIZ_PUBLIC_MOJOM_GPU_MOJOM_BLINK_TEST_UTILS_H_
#define SERVICES_VIZ_PUBLIC_MOJOM_GPU_MOJOM_BLINK_TEST_UTILS_H_

#include "services/viz/public/mojom/gpu.mojom-blink.h"
#include "third_party/blink/public/platform/web_common.h"

namespace viz::mojom::blink {

class BLINK_PLATFORM_EXPORT GpuInterceptorForTesting : public Gpu {
    virtual Gpu* GetForwardingInterface() = 0;
    void CreateClientGpuMemoryBufferFactory(::mojo::PendingReceiver<::gpu::mojom::blink::ClientGmbInterface> receiver) override;
    void EstablishGpuChannel(EstablishGpuChannelCallback callback) override;
    void CreateVideoEncodeAcceleratorProvider(::mojo::PendingReceiver<::media::mojom::blink::VideoEncodeAcceleratorProvider> vea_provider) override;
};
class BLINK_PLATFORM_EXPORT GpuAsyncWaiter {
public:
    explicit GpuAsyncWaiter(Gpu* proxy);

    GpuAsyncWaiter(const GpuAsyncWaiter&) = delete;
    GpuAsyncWaiter& operator=(const GpuAsyncWaiter&) = delete;

    ~GpuAsyncWaiter();
    void EstablishGpuChannel(int32_t* out_client_id, ::mojo::ScopedMessagePipeHandle* out_channel_handle, ::gpu::mojom::blink::GpuInfoPtr* out_gpu_info,
        ::gpu::mojom::blink::GpuFeatureInfoPtr* out_gpu_feature_info, ::gpu::mojom::blink::SharedImageCapabilitiesPtr* out_shared_image_capabilities);

private:
    Gpu* const proxy_;
};

} // viz::mojom::blink

#endif // SERVICES_VIZ_PUBLIC_MOJOM_GPU_MOJOM_BLINK_TEST_UTILS_H_
