// services/viz/public/mojom/gpu.mojom-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef SERVICES_VIZ_PUBLIC_MOJOM_GPU_MOJOM_TEST_UTILS_H_
#define SERVICES_VIZ_PUBLIC_MOJOM_GPU_MOJOM_TEST_UTILS_H_

#include "services/viz/public/mojom/gpu.mojom.h"

namespace viz::mojom {

class GpuInterceptorForTesting : public Gpu {
    virtual Gpu* GetForwardingInterface() = 0;
    void CreateClientGpuMemoryBufferFactory(::mojo::PendingReceiver<::gpu::mojom::ClientGmbInterface> receiver) override;
    void EstablishGpuChannel(EstablishGpuChannelCallback callback) override;
    void CreateVideoEncodeAcceleratorProvider(::mojo::PendingReceiver<::media::mojom::VideoEncodeAcceleratorProvider> vea_provider) override;
};
class GpuAsyncWaiter {
public:
    explicit GpuAsyncWaiter(Gpu* proxy);

    GpuAsyncWaiter(const GpuAsyncWaiter&) = delete;
    GpuAsyncWaiter& operator=(const GpuAsyncWaiter&) = delete;

    ~GpuAsyncWaiter();
    void EstablishGpuChannel(int32_t* out_client_id, ::mojo::ScopedMessagePipeHandle* out_channel_handle, ::gpu::GPUInfo* out_gpu_info,
        ::gpu::GpuFeatureInfo* out_gpu_feature_info, ::gpu::SharedImageCapabilities* out_shared_image_capabilities);

private:
    Gpu* const proxy_;
};

} // viz::mojom

#endif // SERVICES_VIZ_PUBLIC_MOJOM_GPU_MOJOM_TEST_UTILS_H_
