// services/viz/privileged/mojom/compositing/frame_sinks_metrics_recorder.mojom-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef SERVICES_VIZ_PRIVILEGED_MOJOM_COMPOSITING_FRAME_SINKS_METRICS_RECORDER_MOJOM_TEST_UTILS_H_
#define SERVICES_VIZ_PRIVILEGED_MOJOM_COMPOSITING_FRAME_SINKS_METRICS_RECORDER_MOJOM_TEST_UTILS_H_

#include "services/viz/privileged/mojom/compositing/frame_sinks_metrics_recorder.mojom.h"

namespace viz::mojom {

class FrameSinksMetricsRecorderInterceptorForTesting : public FrameSinksMetricsRecorder {
    virtual FrameSinksMetricsRecorder* GetForwardingInterface() = 0;
    void StartFrameCounting(::base::TimeTicks start_time, ::base::TimeDelta bucket_size) override;
    void StopFrameCounting(StopFrameCountingCallback callback) override;
    void StartOverdrawTracking(const ::viz::FrameSinkId& root_frame_sink_id, ::base::TimeDelta bucket_size) override;
    void StopOverdrawTracking(const ::viz::FrameSinkId& root_frame_sink_id, StopOverdrawTrackingCallback callback) override;
};
class FrameSinksMetricsRecorderAsyncWaiter {
public:
    explicit FrameSinksMetricsRecorderAsyncWaiter(FrameSinksMetricsRecorder* proxy);

    FrameSinksMetricsRecorderAsyncWaiter(const FrameSinksMetricsRecorderAsyncWaiter&) = delete;
    FrameSinksMetricsRecorderAsyncWaiter& operator=(const FrameSinksMetricsRecorderAsyncWaiter&) = delete;

    ~FrameSinksMetricsRecorderAsyncWaiter();
    void StopFrameCounting(FrameCountingDataPtr* out_data);
    FrameCountingDataPtr StopFrameCounting();
    void StopOverdrawTracking(const ::viz::FrameSinkId& root_frame_sink_id, OverdrawDataPtr* out_data);
    OverdrawDataPtr StopOverdrawTracking(const ::viz::FrameSinkId& root_frame_sink_id);

private:
    FrameSinksMetricsRecorder* const proxy_;
};

} // viz::mojom

#endif // SERVICES_VIZ_PRIVILEGED_MOJOM_COMPOSITING_FRAME_SINKS_METRICS_RECORDER_MOJOM_TEST_UTILS_H_
