// services/data_decoder/public/mojom/image_decoder.mojom-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef SERVICES_DATA_DECODER_PUBLIC_MOJOM_IMAGE_DECODER_MOJOM_TEST_UTILS_H_
#define SERVICES_DATA_DECODER_PUBLIC_MOJOM_IMAGE_DECODER_MOJOM_TEST_UTILS_H_

#include "services/data_decoder/public/mojom/image_decoder.mojom.h"

namespace data_decoder::mojom {

class ImageDecoderInterceptorForTesting : public ImageDecoder {
    virtual ImageDecoder* GetForwardingInterface() = 0;
    void DecodeImage(::mojo_base::BigBuffer encoded_data, ImageCodec codec, bool shrink_to_fit, int64_t max_size_in_bytes,
        const ::gfx::Size& desired_image_frame_size, DecodeImageCallback callback) override;
    void DecodeAnimation(::mojo_base::BigBuffer encoded_data, bool shrink_to_fit, int64_t max_size_in_bytes, DecodeAnimationCallback callback) override;
};
class ImageDecoderAsyncWaiter {
public:
    explicit ImageDecoderAsyncWaiter(ImageDecoder* proxy);

    ImageDecoderAsyncWaiter(const ImageDecoderAsyncWaiter&) = delete;
    ImageDecoderAsyncWaiter& operator=(const ImageDecoderAsyncWaiter&) = delete;

    ~ImageDecoderAsyncWaiter();
    void DecodeImage(::mojo_base::BigBuffer encoded_data, ImageCodec codec, bool shrink_to_fit, int64_t max_size_in_bytes,
        const ::gfx::Size& desired_image_frame_size, ::base::TimeDelta* out_decoding_duration, ::SkBitmap* out_decoded_image);

    void DecodeAnimation(::mojo_base::BigBuffer encoded_data, bool shrink_to_fit, int64_t max_size_in_bytes, std::vector<AnimationFramePtr>* out_decoded_image);
    std::vector<AnimationFramePtr> DecodeAnimation(::mojo_base::BigBuffer encoded_data, bool shrink_to_fit, int64_t max_size_in_bytes);

private:
    ImageDecoder* const proxy_;
};

} // data_decoder::mojom

#endif // SERVICES_DATA_DECODER_PUBLIC_MOJOM_IMAGE_DECODER_MOJOM_TEST_UTILS_H_
