// services/video_capture/public/mojom/device.mojom-test-utils.h is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2019 The Chromium Authors
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

#ifndef SERVICES_VIDEO_CAPTURE_PUBLIC_MOJOM_DEVICE_MOJOM_TEST_UTILS_H_
#define SERVICES_VIDEO_CAPTURE_PUBLIC_MOJOM_DEVICE_MOJOM_TEST_UTILS_H_

#include "services/video_capture/public/mojom/device.mojom.h"

namespace video_capture::mojom {

class DeviceInterceptorForTesting : public Device {
    virtual Device* GetForwardingInterface() = 0;
    void Start(const ::media::VideoCaptureParams& requested_settings, ::mojo::PendingRemote<::video_capture::mojom::VideoFrameHandler> handler) override;
    void MaybeSuspend() override;
    void Resume() override;
    void GetPhotoState(GetPhotoStateCallback callback) override;
    void SetPhotoOptions(::media::mojom::PhotoSettingsPtr settings, SetPhotoOptionsCallback callback) override;
    void TakePhoto(TakePhotoCallback callback) override;
    void ProcessFeedback(const ::media::VideoCaptureFeedback& feedback) override;
    void RequestRefreshFrame() override;
};
class DeviceAsyncWaiter {
public:
    explicit DeviceAsyncWaiter(Device* proxy);

    DeviceAsyncWaiter(const DeviceAsyncWaiter&) = delete;
    DeviceAsyncWaiter& operator=(const DeviceAsyncWaiter&) = delete;

    ~DeviceAsyncWaiter();
    void GetPhotoState(::media::mojom::PhotoStatePtr* out_capabilities);
    ::media::mojom::PhotoStatePtr GetPhotoState();
    void SetPhotoOptions(::media::mojom::PhotoSettingsPtr settings, bool* out_success);
    bool SetPhotoOptions(::media::mojom::PhotoSettingsPtr settings);
    void TakePhoto(::media::mojom::BlobPtr* out_blob);
    ::media::mojom::BlobPtr TakePhoto();

private:
    Device* const proxy_;
};

} // video_capture::mojom

#endif // SERVICES_VIDEO_CAPTURE_PUBLIC_MOJOM_DEVICE_MOJOM_TEST_UTILS_H_
